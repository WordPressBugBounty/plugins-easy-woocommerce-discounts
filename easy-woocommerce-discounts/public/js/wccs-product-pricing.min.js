(i=>{function t(){this.init=this.init.bind(this),this.onFoundVariation=this.onFoundVariation.bind(this),this.onHideVariation=this.onHideVariation.bind(this),this.tracks=this.tracks.bind(this),this.init()}t.prototype.init=function(){i(".variations_form").length&&(this.$bulkTables=i(".wccs-bulk-pricing-table-container"),this.$bulkTitles=i(".wccs-bulk-pricing-table-title"),this.$parentTable=this.$bulkTables.not("[data-variation]"),this.$parentTableTitle=this.$bulkTitles.not("[data-variation]"),this.$variationForm=i(".variations_form").first(),i(document.body).on("found_variation.wccs_product_pricing",this.$variationForm,this.onFoundVariation),i(document.body).on("hide_variation.wccs_product_pricing",this.$variationForm,this.onHideVariation)),this.$cartForm=i(".product form.cart").first(),this.tracks()},t.prototype.onFoundVariation=function(t,i){this.$bulkTables.length&&(this.$bulkTables.hide(),this.$bulkTitles.hide(),this.$bulkTables.filter('[data-variation="'+i.variation_id+'"]').length?(this.$bulkTables.filter('[data-variation="'+i.variation_id+'"]').show(),this.$bulkTitles.filter('[data-variation="'+i.variation_id+'"]').show()):this.$parentTable.length&&(this.$parentTable.show(),this.$parentTableTitle.show()))},t.prototype.onHideVariation=function(t){this.$bulkTables.length&&(this.$bulkTables.hide(),this.$bulkTitles.hide(),this.$parentTable.length)&&(this.$parentTable.show(),this.$parentTableTitle.show())},t.prototype.getProductId=function(){var t=i('button[name="add-to-cart"]').val();return t||i('input[name="add-to-cart"').val()},t.prototype.tracks=function(){var t;void 0===wccs_product_pricing_params.analytics||wccs_product_pricing_params.analytics<=0||!(t=(t=this.getProductId())||void 0===wccs_product_pricing_params.product_id?t:wccs_product_pricing_params.product_id)||+t<=0||i.ajax({url:wccs_product_pricing_params.ajaxurl,type:"POST",dataType:"json",data:{action:"asnp_wccs_product_tracks",nonce:wccs_product_pricing_params.nonce,product_id:t}})};var a,n={getInstance:function(){return a=a||new t}};i.fn.wccs_get_product_pricing=function(){return n.getInstance()},i(function(){i().wccs_get_product_pricing()}),i(document).on("skeleton-loaded",".skeleton-loading",function(){n.getInstance().init()})})(jQuery);